<!DOCTYPE html>
<html lang="en">
<head>
    <head>
        <title>L&K RTS</title>
        <meta content="text/html; charset=UTF-8" http-equiv="content-type">
        <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="HandheldFriendly" content="True">
        <meta name="description" content="L&K RTS">
        <meta name="keywords" content="L&K RTS">
        <!--<link rel="shortcut icon" href="favicon.ico">-->
        <!-- <link rel="stylesheet" href="css/style.css"> -->

        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
    </head>
</head>
<body>
<div id="flex-box"></div>

<script>
    let a = '000000000000 ';
    let b = '111111111111 ';

    let I = `${a}${a}${a}${b}${b}${a}${a}${a}`;
    let L = `${b}${b}110000000000 110000000000 110000000000 110000000000 110000000000 110000000000 `;
    let O = `000111111000 011111111110 111000000111 110000000011 110000000011 111000000111 011111111110 000111111000 `;
    let V = `000000011111 000111111111 011111100000 111000000000 111000000000 011111100000 000111111111 000000011111 `;
    let E = `${b}${b}110001100011 110001100011 110001100011 110001100011 110001100011 110001100011 `;
    let Y = `000000000111 000000011111 000001111000 111111100000 111111100000 000001111000 000000011111 000000000111 `;
    let U = `000111111111 011111111111 111000000000 110000000000 110000000000 111000000000 011111111111 000111111111 `;
    let EM = `${a}${a}${a}110011111111 110011111111 ${a}${a}${a}`;


    let str = 'I Love You !';

       const fullStr = (str) => {
        let arr = funcStrArr(str);
        let newStr = '';
        for (let i = 0; i<arr.length; i++) {
            switch(arr[i]){
                case 'I':
                    newStr += I;
                    break;
                case 'L':
                    newStr += L;
                    break;
                case 'O':
                    newStr += O;
                    break;
                case 'V':
                    newStr += V;
                    break;
                case 'E':
                    newStr += E;
                    break;
                case 'Y':
                    newStr += Y;
                    break;
                case 'O':
                    newStr += O;
                    break;
                case 'U':
                    newStr += U;
                    break;
                case '!':
                    newStr += EM;
                    break;
                default:
                    newStr += (a+a);
            }
            if(i < arr.length-1){
                newStr += (a+a);
            }
        }
        return newStr.split(' '); 
    }

    const funcStrArr = (str) => {
        str = str.toUpperCase().split('');
        return str;
    }

    const funcWrite = (arr) => {
        let newArr = [];
        for(let i = 0; i<arr.length; i++) {
            let newStr = '';
            for (let y = 0; y<arr[i].length; y++) {
                newStr += arr[i][y];
            }
            newArr.push(newStr);
        }
        let newStr = '';
        for (let i=0; i<newArr.length; i++) {
            newStr+= newArr[i]
        }
        return newStr;
    }

    const build = (flex, fullNum, strLength) => {
        flex.style = `height: ${12*100/strLength}vh;`;
        for(let i=0; i<fullNum.length;i++) {
            flex.insertAdjacentHTML('beforeEnd', `<div id="div${i}"></div>`);
            
            setTimeout(function() {
                document.getElementById('div'+i).style = `
                    width: ${100/strLength}vw;
                    height: ${100/strLength}vh;
                    border: 1px solid white;
                `;
                if (fullNum[i] === '1') {     
                    document.getElementById('div'+i).style = `
                        width: ${100/strLength}vw;
                        height: ${100/strLength}vh;
                        border: 1px solid white;
                        background: red;
                    `;
                }
                document.getElementById('div'+i).style.animation = 'pixel 1s ease-in-out forwards';

            }, 10*i);
        }

    }
    
    const funcBuild = (str) => {
        let flex = document.getElementById('flex-box');        
        const fullNum = funcWrite(fullStr(str));
        let strLength = fullStr(str).length-1;
        build(flex, fullNum, strLength);
    }

    setTimeout(function() {
        funcBuild(str);
    }, 1000);
</script>

<style>
    body{
        margin: 0;
        background: #0a1428;
        display: flex;
        align-items: center;
        height: 100vh;
    }
    #flex-box {
        display: flex;
        flex-wrap: wrap;
        flex-direction: column-reverse;
    }
    #flex-box div {
        box-sizing: border-box;
    }
    @keyframes pixel {
        0% {
            border: 1px solid white;
        }
        100% {
            border: 0px solid white;
        }
    }
</style>

</body>
</html>
